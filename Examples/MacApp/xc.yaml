# xc configuration for SampleMacApp
# Generated workspace: SampleMacApp.xcworkspace (via tuist generate)

workspace: SampleMacApp.xcworkspace

# Named destinations
destinations:
  mac: "platform=macOS"
  mac-arch: "platform=macOS,arch=arm64"

# Defaults applied to all commands
defaults:
  scheme: SampleMacApp
  configuration: Debug
  destination: mac

# Command definitions
commands:
  build:
    hooks:
      pre: "echo '==> Building SampleMacApp...'"
      post: "echo '==> Build finished.'"
    variants:
      release:
        configuration: Release
      core:
        scheme: Core

  test:
    hooks:
      pre: "echo '==> Running tests...'"
    variants:
      core:
        scheme: Core
      coverage:
        extra-args:
          - "-enableCodeCoverage"
          - "YES"

  clean: {}

  archive:
    configuration: Release
    archive-path: "${BUILD_DIR:-./build}/SampleMacApp.xcarchive"

  # Script commands
  generate:
    run: "tuist generate"

  lint:
    run: "swiftlint lint --quiet"
    variants:
      fix:
        run: "swiftlint lint --fix"

  loc:
    run: "find Sources -name '*.swift' | xargs wc -l | tail -1"
