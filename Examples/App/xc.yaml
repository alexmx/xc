# xc configuration for SampleApp
# Workspace generated by tuist

workspace: SampleApp.xcworkspace

destinations:
  sim: "platform=iOS Simulator,name=${IOS_SIMULATOR:-iPhone 17 Pro}"
  sim-ipad: "platform=iOS Simulator,name=iPad Pro 13-inch (M5)"
  mac: "platform=macOS"

defaults:
  scheme: SampleApp
  configuration: Debug
  destination: sim

commands:
  build:
    hooks:
      pre: "tuist generate --no-open"
    variants:
      release:
        configuration: Release
      ipad:
        destination: sim-ipad
      core:
        scheme: Core

  test:
    scheme: SampleAppTests
    variants:
      core:
        scheme: CoreTests
      ci:
        result-bundle-path: "${RESULT_BUNDLE_PATH:-./build/tests.xcresult}"
        extra-args:
          - "-enableCodeCoverage"
          - "YES"

  clean: {}

  archive:
    configuration: Release
    archive-path: "${BUILD_DIR:-./build}/SampleApp.xcarchive"

  lint:
    run: "swiftlint lint --quiet"
    variants:
      fix:
        run: "swiftlint lint --fix"

  format:
    run: "swiftformat Sources Tests"
